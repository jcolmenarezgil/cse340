<h1><%= title %></h1>

<%- messages() %>

<% if (errors) { %>
    <ul class="notice">
        <% errors.array().forEach(error => { %>
            <li><%= error.msg %></li>
        <% }) %>
    </ul>
<% } %>

<div class="delete-confirm-container">
    <p class="warning"><strong>Warning:</strong> This action is permanent and cannot be undone.</p>
    <p>You are about to delete the following message:</p>
    
    <div class="message-summary">
        <p><strong>Subject:</strong> <%= message_subject %></p>
        <p><strong>From:</strong> <%= message_from %></p>
        <p><strong>Received:</strong> <%= message_created %></p>
    </div>

    <form id="delete-message-form" action="/message/delete" method="post">
        <input type="hidden" name="message_id" value="<%= message_id %>">
        <div class="form-buttons">
            <button type="submit" class="delete-button">Confirm Delete</button>
            <a href="/message/read/<%= message_id %>" class="cancel-button">Cancel</a>
        </div>
    </form>
</div>